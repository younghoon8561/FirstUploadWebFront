<!-- #include file = "./common.aspx" -->

<%
    _NOW_INDEX = true;
%>
<!-- #include file = "./head.aspx" -->

<script language="C#" runat="server">
    protected void Page_Init(object sender, EventArgs e){
        add_style_css("../skin/latest/style.css");
    }
</script>

<style>
    .header_wrapper {
        position: relative;
        float: left;
        width: 100%;
        height: 180px;
        padding-top: 90px;
        overflow: hidden;
    }

    .container{
        padding: 0px;
    }
</style>


<div class="main_slide_area ">
    <div id="sync1" class="owl-carousel">
        <div class="slide_elements_index faded_effect">
            <a href="">
                <div class="slide_img_blocks"></div>
            </a>
        </div>
        <div class="slide_elements_index faded_effect">
            <a href="">
                <div class="slide_img_blocks"></div>
            </a>
        </div>
        <div class="slide_elements_index faded_effect">
            <a href="">
                <div class="slide_img_blocks"></div>
            </a>
        </div>
        <div class="slide_elements_index faded_effect">
            <a href="">
                <div class="slide_img_blocks"></div>
            </a>
        </div>
        <div class="slide_elements_index faded_effect">
            <a href="">
                <div class="slide_img_blocks"></div>
            </a>
        </div>
        <div class="slide_elements_index faded_effect">
            <a href="">
                <div class="slide_img_blocks"></div>
            </a>
        </div>
    </div>
</div>

<div class="sub_slide_area">
    <div id="sync2" class="owl-carousel">
        <div class="item">
            <div class="slide_inner_container">
                <div class="mini_slide_icon_area">
                    <div class="mini_slide_icon_contents">
                        <div class="mini_slide_inner_icon"></div>
                    </div>
                </div>
                <div class="mini_slide_description_area">
                    <div class="mini_slide_now_elements_check_area">
                        <span class="active_mini_slide_now_elements">활성화 된 공지사항</span>
                        <span class="deactivate_mini_slide_now_elements">비활성화 된 공지사항</span>
                    </div>
                    <div class="mini_slide_description_contents_area">
                        <span>테스트 공지사항입니다.<br>클릭하여 자세히 확인해주세요.</span>
                    </div>
                </div>
            </div>
            <div class="mini_slide_background_progress_bar"></div>
            <div class="mini_slide_progress_bar"></div>
        </div>
        <div class="item">
            <div class="slide_inner_container">
                <div class="mini_slide_icon_area">
                    <div class="mini_slide_icon_contents">
                        <div class="mini_slide_inner_icon"></div>
                    </div>
                </div>
                <div class="mini_slide_description_area">
                    <div class="mini_slide_now_elements_check_area">
                        <span class="active_mini_slide_now_elements">활성화 된 공지사항</span>
                        <span class="deactivate_mini_slide_now_elements">비활성화 된 공지사항</span>
                    </div>
                    <div class="mini_slide_description_contents_area">
                        <span>테스트 공지사항입니다.<br>클릭하여 자세히 확인해주세요.</span>
                    </div>
                </div>
            </div>
            <div class="mini_slide_background_progress_bar"></div>
            <div class="mini_slide_progress_bar"></div>
        </div>
        <div class="item">
            <div class="slide_inner_container">
                <div class="mini_slide_icon_area">
                    <div class="mini_slide_icon_contents">
                        <div class="mini_slide_inner_icon"></div>
                    </div>
                </div>
                <div class="mini_slide_description_area">
                    <div class="mini_slide_now_elements_check_area">
                        <span class="active_mini_slide_now_elements">활성화 된 공지사항</span>
                        <span class="deactivate_mini_slide_now_elements">비활성화 된 공지사항</span>
                    </div>
                    <div class="mini_slide_description_contents_area">
                        <span>테스트 공지사항입니다.<br>클릭하여 자세히 확인해주세요.</span>
                    </div>
                </div>
            </div>
            <div class="mini_slide_background_progress_bar"></div>
            <div class="mini_slide_progress_bar"></div>
        </div>
        <div class="item">
            <div class="slide_inner_container">
                <div class="mini_slide_icon_area">
                    <div class="mini_slide_icon_contents">
                        <div class="mini_slide_inner_icon"></div>
                    </div>
                </div>
                <div class="mini_slide_description_area">
                    <div class="mini_slide_now_elements_check_area">
                        <span class="active_mini_slide_now_elements">활성화 된 공지사항</span>
                        <span class="deactivate_mini_slide_now_elements">비활성화 된 공지사항</span>
                    </div>
                    <div class="mini_slide_description_contents_area">
                        <span>테스트 공지사항입니다.<br>클릭하여 자세히 확인해주세요.</span>
                    </div>
                </div>
            </div>
            <div class="mini_slide_background_progress_bar"></div>
            <div class="mini_slide_progress_bar"></div>
        </div>
        <div class="item">
            <div class="slide_inner_container">
                <div class="mini_slide_icon_area">
                    <div class="mini_slide_icon_contents">
                        <div class="mini_slide_inner_icon"></div>
                    </div>
                </div>
                <div class="mini_slide_description_area">
                    <div class="mini_slide_now_elements_check_area">
                        <span class="active_mini_slide_now_elements">활성화 된 공지사항</span>
                        <span class="deactivate_mini_slide_now_elements">비활성화 된 공지사항</span>
                    </div>
                    <div class="mini_slide_description_contents_area">
                        <span>테스트 공지사항입니다.<br>클릭하여 자세히 확인해주세요.</span>
                    </div>
                </div>
            </div>
            <div class="mini_slide_background_progress_bar"></div>
            <div class="mini_slide_progress_bar"></div>
        </div>
        <div class="item">
            <div class="slide_inner_container">
                <div class="mini_slide_icon_area">
                    <div class="mini_slide_icon_contents">
                        <div class="mini_slide_inner_icon"></div>
                    </div>
                </div>
                <div class="mini_slide_description_area">
                    <div class="mini_slide_now_elements_check_area">
                        <span class="active_mini_slide_now_elements">활성화 된 공지사항</span>
                        <span class="deactivate_mini_slide_now_elements">비활성화 된 공지사항</span>
                    </div>
                    <div class="mini_slide_description_contents_area">
                        <span>테스트 공지사항입니다.<br>클릭하여 자세히 확인해주세요.</span>
                    </div>
                </div>
            </div>
            <div class="mini_slide_background_progress_bar"></div>
            <div class="mini_slide_progress_bar"></div>
        </div>
    </div>
</div>


<script>
    $(document).ready(function(){

        function startProgressBar() {
            // apply keyframe animation
            $(".current .mini_slide_progress_bar").css({
            width: "100%",
            transition: "width 5000ms"
            });
        }

        function resetProgressBar() {
            $(".current .mini_slide_progress_bar").css({
                width: 0,
                transition: "width 0s"
            });
        }

        var sync1 = $("#sync1");
        var sync2 = $("#sync2");

        var slidesPerPage = 3;
        var syncedSecondary = true;

        sync1.owlCarousel({
            items : 1,
            slideSpeed : 2000,
            nav: true,
            autoplay: true,
            autoplaytimeout:5000,
            dots: true,
            loop: true,
            responsiveRefreshRate : 200
      }).on('changed.owl.carousel', syncPosition);


        sync2
        .on('initialized.owl.carousel', function () {
            sync2.find(".owl-item").eq(0).addClass("current");
            startProgressBar();
        })
        .owlCarousel({
            items : slidesPerPage,
            smartSpeed: 200,
            slideSpeed : 500,
            dots: true,
            nav: true,
            slideBy: slidesPerPage, 
            margin: 9,
            responsiveRefreshRate : 100
        }).on('changed.owl.carousel', syncPosition2);


        function syncPosition(el) {
            var count = el.item.count-1;
            var current = Math.round(el.item.index - (el.item.count/2) - .5);
            
            if(current < 0) {
            current = count;
            }
            if(current > count) {
            current = 0;
            }
            
            //end block

            resetProgressBar();

            sync2
            .find(".owl-item")
            .removeClass("current")
            .eq(current)
            .addClass("current");
            startProgressBar();
                var onscreen = sync2.find('.owl-item.active').length - 1;
                var start = sync2.find('.owl-item.active').first().index();
                var end = sync2.find('.owl-item.active').last().index();
                
                if (current > end) {
                sync2.data('owl.carousel').to(current, 100, true);
                }
                if (current < start) {
                sync2.data('owl.carousel').to(current - onscreen, 100, true);
                }
        }
        
        function syncPosition2(el) {
            if(syncedSecondary) {
            var number = el.item.index;
            sync1.data('owl.carousel').to(number, 100, true);
            }
        }
        
        sync2.on("click", ".owl-item", function(e){
            e.preventDefault();
            var number = $(this).index();
            sync1.data('owl.carousel').to(number, 300, true);
        });
    });
</script>
<!-- #include file = "./tail.aspx" -->